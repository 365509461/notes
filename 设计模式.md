# 设计模式

## 一、设计原则

### 单一职责原则(Single Responsibility Principle)-SRP

简单来说就是一个方法/接口实现一个功能，解决一个问题。

**优点：**

- 降低程序复杂性

每个类实现单一职责，并且单一职责都有清楚明确的定义

- 提高可读性、可维护性

类的复杂性降低了，可读性自然就高了

- 提高可扩展性、降低风险

变更是必不可少的，如果接口的单一职责做得好，一个接口修改只对应的实现类有影响，对其他接口没有影响

### 迪米特原则(Law of Demeter)-LOD

只与你的直接朋友交谈，不和“陌生人”说话。

**含义:**如果两个软件实体无须直接通信，那么就不应当发生直接的相互调用，可以通过第三方转发该调用。其目的是降低类直接的耦合，提高模块的相对独立性。

**优点：**

- 降低了类之间的耦合度，提高了模块之间的相对独立型
- 由于耦合降低，从而提高了类的可复用率和系统的扩展性

**迪米特法则强调一下两点：**

- 从依赖者的角度来说，只依赖应该依赖的对象
- 从被依赖者的角度来说，只暴露应该暴露的方法

**举个栗子：**

- 客户只需要找中介要满足的楼盘，而不必跟每个楼盘发生关系
- 前端请求全部都请求到网关，而不是直接请求到具体的微服务

### 接口隔离原则(Interface Segregation Principle)-ISP

**定义：**

- 客户端不应该依赖它不需要的接口
- 类之间的依赖关系应该建立在最小的接口上

**与单一职责的区别：**

接口隔离原则和单一职责原则都是为了提高代码内聚行、降低耦合性，体现了封装的思想

- 单一职责原则注重的职责，而接口隔离注重的是对接口依赖的隔离
- 单一职责原则主要是约束类，他针对的是程序中的实现和细节。接口隔离原则主要约束接口，针对抽象和程序框架

**原则：**

- 在满足单一职责原则的前提下接口要尽可能的小，一个接口只服务一个子模块或者业务
- 只提供调用者需要的方法，屏蔽不需要的方法
- 高内聚，对外暴露最少的接口实现最多的功能。换句话说，公开的接口是对外的承诺，承诺越少对系统开发越有利，风险越低

### 开闭原则(Open Closed Principle)-OCP

**定义：**一个软件实体，模块和函数应该对外扩展开发，对修改关闭

当软件需要变化时，尽可能的通过扩展软件实体(增加接口实现)来实现变化，而不是修改已有的代码来实现。

### 里氏替换原则(Liskov Substitution Principle)-LSP

**定义：**所有引用基类的地方必须透明的使用其子类的对象。

也就是说父类出现的地方将父类直接替换为子类不会出现任何错误或异常，但是反过来就不行

### 依赖倒置原则(Dependence Inversion Principle)-DIP

**定义：**上层模块不应该依赖底层模块，抽象不应该依赖于细节，细节应该依赖于抽象

